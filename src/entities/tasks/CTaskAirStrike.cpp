#include "CTaskAirStrike.h"
#include "../../Lua.h"

#include <sol/sol.hpp>
#include "../../Hooks.h"

int CTaskAirStrike::install(SignatureScanner &signatureScanner, module mod) {
	DWORD addrConstructCTaskAirStrike =  Hooks::scanPattern("ConstructCTaskAirStrike", "\x6A\xFF\x64\xA1\x00\x00\x00\x00\x68\x00\x00\x00\x00\x50\x8B\x44\x24\x14\x64\x89\x25\x00\x00\x00\x00\x8B\x48\x2C\x53\x8B\x5C\x24\x14\x55\x56\x57\x51\x50\x53\xE8\x00\x00\x00\x00\x33\xD2", "????????x????xxxxxxxx????xxxxxxxxxxxxxxx????xx", 0x5553C0);
	DWORD *addrCTaskAirStrikeVTable = *(DWORD **) (addrConstructCTaskAirStrike + 0x37);

	CTaskAddVTHooks(CTaskAirStrike, addrCTaskAirStrikeVTable)

	auto *lua = Lua::getInstance().getState();
	sol::usertype<CTaskAirStrike> ut = lua->new_usertype<CTaskAirStrike>("CTaskAirStrike", sol::base_classes, sol::bases<CTask>());
	CTaskAddLuaVTHooks(CTaskAirStrike);
	ut["unknown30"] = &CTaskAirStrike::unknown30;
	ut["unknown34"] = &CTaskAirStrike::unknown34;
	ut["unknown38"] = &CTaskAirStrike::unknown38;
	ut["unknown3C"] = &CTaskAirStrike::unknown3C;
	ut["unknown40"] = &CTaskAirStrike::unknown40;
	ut["unknown44"] = &CTaskAirStrike::unknown44;
	ut["unknown48"] = &CTaskAirStrike::unknown48;
	ut["unknown4C"] = &CTaskAirStrike::unknown4C;
	ut["unknown50"] = &CTaskAirStrike::unknown50;
	ut["unknown54"] = &CTaskAirStrike::unknown54;
	ut["unknown58"] = &CTaskAirStrike::unknown58;
	ut["unknown5C"] = &CTaskAirStrike::unknown5C;
	ut["unknown60"] = &CTaskAirStrike::unknown60;
	ut["unknown64"] = &CTaskAirStrike::unknown64;
	ut["unknown68"] = &CTaskAirStrike::unknown68;
	ut["unknown6C"] = &CTaskAirStrike::unknown6C;
	ut["unknown70"] = &CTaskAirStrike::unknown70;
	ut["unknown74"] = &CTaskAirStrike::unknown74;
	ut["unknown78"] = &CTaskAirStrike::unknown78;
	ut["unknown7C"] = &CTaskAirStrike::unknown7C;
	ut["unknown80"] = &CTaskAirStrike::unknown80;
	ut["unknown84"] = &CTaskAirStrike::unknown84;
	ut["unknown88"] = &CTaskAirStrike::unknown88;
	ut["unknown8C"] = &CTaskAirStrike::unknown8C;
	ut["unknown90"] = &CTaskAirStrike::unknown90;
	ut["unknown94"] = &CTaskAirStrike::unknown94;
	ut["unknown98"] = &CTaskAirStrike::unknown98;
	ut["unknown9C"] = &CTaskAirStrike::unknown9C;
	ut["unknownA0"] = &CTaskAirStrike::unknownA0;
	ut["unknownA4"] = &CTaskAirStrike::unknownA4;
	ut["unknownA8"] = &CTaskAirStrike::unknownA8;
	ut["unknownAC"] = &CTaskAirStrike::unknownAC;
	ut["unknownB0"] = &CTaskAirStrike::unknownB0;
	ut["unknownB4"] = &CTaskAirStrike::unknownB4;
	ut["unknownB8"] = &CTaskAirStrike::unknownB8;
	ut["unknownBC"] = &CTaskAirStrike::unknownBC;
	ut["unknownC0"] = &CTaskAirStrike::unknownC0;
	ut["unknownC4"] = &CTaskAirStrike::unknownC4;
	ut["unknownC8"] = &CTaskAirStrike::unknownC8;
	ut["unknownCC"] = &CTaskAirStrike::unknownCC;
	ut["unknownD0"] = &CTaskAirStrike::unknownD0;
	ut["unknownD4"] = &CTaskAirStrike::unknownD4;
	ut["unknownD8"] = &CTaskAirStrike::unknownD8;
	ut["unknownDC"] = &CTaskAirStrike::unknownDC;
	ut["unknownE0"] = &CTaskAirStrike::unknownE0;
	ut["unknownE4"] = &CTaskAirStrike::unknownE4;
	ut["unknownE8"] = &CTaskAirStrike::unknownE8;
	ut["unknownEC"] = &CTaskAirStrike::unknownEC;
	ut["unknownF0"] = &CTaskAirStrike::unknownF0;
	ut["unknownF4"] = &CTaskAirStrike::unknownF4;
	ut["unknownF8"] = &CTaskAirStrike::unknownF8;
	ut["unknownFC"] = &CTaskAirStrike::unknownFC;
	ut["unknown100"] = &CTaskAirStrike::unknown100;
	ut["unknown104"] = &CTaskAirStrike::unknown104;
	ut["unknown108"] = &CTaskAirStrike::unknown108;
	ut["unknown10C"] = &CTaskAirStrike::unknown10C;
	ut["unknown110"] = &CTaskAirStrike::unknown110;
	ut["unknown114"] = &CTaskAirStrike::unknown114;
	ut["unknown118"] = &CTaskAirStrike::unknown118;
	ut["unknown11C"] = &CTaskAirStrike::unknown11C;
	ut["unknown120"] = &CTaskAirStrike::unknown120;
	ut["unknown124"] = &CTaskAirStrike::unknown124;
	ut["unknown128"] = &CTaskAirStrike::unknown128;
	ut["unknown12C"] = &CTaskAirStrike::unknown12C;
	ut["unknown130"] = &CTaskAirStrike::unknown130;
	ut["unknown134"] = &CTaskAirStrike::unknown134;
	ut["unknown138"] = &CTaskAirStrike::unknown138;
	ut["unknown13C"] = &CTaskAirStrike::unknown13C;
	ut["unknown140"] = &CTaskAirStrike::unknown140;
	ut["unknown144"] = &CTaskAirStrike::unknown144;
	ut["unknown148"] = &CTaskAirStrike::unknown148;
	ut["unknown14C"] = &CTaskAirStrike::unknown14C;
	ut["unknown150"] = &CTaskAirStrike::unknown150;
	ut["unknown154"] = &CTaskAirStrike::unknown154;
	ut["unknown158"] = &CTaskAirStrike::unknown158;
	ut["unknown15C"] = &CTaskAirStrike::unknown15C;
	ut["unknown160"] = &CTaskAirStrike::unknown160;
	ut["unknown164"] = &CTaskAirStrike::unknown164;
	ut["unknown168"] = &CTaskAirStrike::unknown168;
	ut["unknown16C"] = &CTaskAirStrike::unknown16C;
	ut["unknown170"] = &CTaskAirStrike::unknown170;
	ut["unknown174"] = &CTaskAirStrike::unknown174;
	ut["unknown178"] = &CTaskAirStrike::unknown178;
	ut["unknown17C"] = &CTaskAirStrike::unknown17C;
	ut["unknown180"] = &CTaskAirStrike::unknown180;
	ut["unknown184"] = &CTaskAirStrike::unknown184;
	ut["unknown188"] = &CTaskAirStrike::unknown188;
	ut["unknown18C"] = &CTaskAirStrike::unknown18C;
	ut["unknown190"] = &CTaskAirStrike::unknown190;
	ut["unknown194"] = &CTaskAirStrike::unknown194;
	ut["unknown198"] = &CTaskAirStrike::unknown198;
	ut["unknown19C"] = &CTaskAirStrike::unknown19C;
	ut["unknown1A0"] = &CTaskAirStrike::unknown1A0;
	ut["unknown1A4"] = &CTaskAirStrike::unknown1A4;
	ut["unknown1A8"] = &CTaskAirStrike::unknown1A8;
	ut["unknown1AC"] = &CTaskAirStrike::unknown1AC;
	ut["unknown1B0"] = &CTaskAirStrike::unknown1B0;
	ut["unknown1B4"] = &CTaskAirStrike::unknown1B4;
	ut["unknown1B8"] = &CTaskAirStrike::unknown1B8;
	ut["unknown1BC"] = &CTaskAirStrike::unknown1BC;
	ut["unknown1C0"] = &CTaskAirStrike::unknown1C0;
	ut["unknown1C4"] = &CTaskAirStrike::unknown1C4;
	ut["unknown1C8"] = &CTaskAirStrike::unknown1C8;
	ut["unknown1CC"] = &CTaskAirStrike::unknown1CC;
	ut["unknown1D0"] = &CTaskAirStrike::unknown1D0;
	ut["unknown1D4"] = &CTaskAirStrike::unknown1D4;
	ut["unknown1D8"] = &CTaskAirStrike::unknown1D8;
	ut["unknown1DC"] = &CTaskAirStrike::unknown1DC;
	ut["unknown1E0"] = &CTaskAirStrike::unknown1E0;
	ut["unknown1E4"] = &CTaskAirStrike::unknown1E4;
	ut["unknown1E8"] = &CTaskAirStrike::unknown1E8;
	ut["unknown1EC"] = &CTaskAirStrike::unknown1EC;
	ut["unknown1F0"] = &CTaskAirStrike::unknown1F0;
	ut["unknown1F4"] = &CTaskAirStrike::unknown1F4;
	ut["unknown1F8"] = &CTaskAirStrike::unknown1F8;
	ut["unknown1FC"] = &CTaskAirStrike::unknown1FC;
	ut["unknown200"] = &CTaskAirStrike::unknown200;
	ut["unknown204"] = &CTaskAirStrike::unknown204;
	ut["unknown208"] = &CTaskAirStrike::unknown208;
	ut["unknown20C"] = &CTaskAirStrike::unknown20C;
	ut["unknown210"] = &CTaskAirStrike::unknown210;
	ut["unknown214"] = &CTaskAirStrike::unknown214;
	ut["unknown218"] = &CTaskAirStrike::unknown218;
	ut["unknown21C"] = &CTaskAirStrike::unknown21C;
	ut["unknown220"] = &CTaskAirStrike::unknown220;
	ut["unknown224"] = &CTaskAirStrike::unknown224;
	ut["unknown228"] = &CTaskAirStrike::unknown228;
	ut["unknown22C"] = &CTaskAirStrike::unknown22C;
	ut["unknown230"] = &CTaskAirStrike::unknown230;
	ut["unknown234"] = &CTaskAirStrike::unknown234;
	return 0;
}
