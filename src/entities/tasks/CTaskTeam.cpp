#include "CTaskTeam.h"
#include "../../Lua.h"
#include <sol/sol.hpp>
#include "../../Hooks.h"

int CTaskTeam::install(SignatureScanner &signatureScanner, module mod) {
	DWORD addrConstructCTaskTeam =   Hooks::scanPattern("ConstructCTaskTeam", "\x6A\xFF\x68\x00\x00\x00\x00\x64\xA1\x00\x00\x00\x00\x50\x64\x89\x25\x00\x00\x00\x00\x83\xEC\x08\x8B\x44\x24\x1C\x8B\x48\x2C\x53\x55\x56\x8B\x74\x24\x24\x57\x51\x50\x56\xE8\x00\x00\x00\x00\x8B\x7C\x24\x30\x8B\x54\x24\x34\x33\xDB", "???????xx????xxxx????xxxxxxxxxxxxxxxxxxxxxx????xxxxxxxxxx", 0x555BB0);
	DWORD* addrCTaskTeamVTable = *(DWORD**)(addrConstructCTaskTeam + 0x46);

	CTaskAddVTHooks(CTaskTeam, addrCTaskTeamVTable)

	auto * lua = Lua::getInstance().getState();
	sol::usertype <CTaskTeam> ut = lua->new_usertype <CTaskTeam> ("CTaskTeam", sol::base_classes, sol::bases<CTask>());

	CTaskAddLuaVTHooks(CTaskTeam)

	ut["unknown30"] = &CTaskTeam::unknown30;
	ut["unknown34"] = &CTaskTeam::unknown34;
	ut["team_number_dword38"] = &CTaskTeam::team_number_dword38;
	ut["unknown3C"] = &CTaskTeam::unknown3C;
	ut["unknown40"] = &CTaskTeam::unknown40;
	ut["unknown44"] = &CTaskTeam::unknown44;
	ut["unknown48"] = &CTaskTeam::unknown48;
	ut["unknown4C"] = &CTaskTeam::unknown4C;
	ut["unknown50"] = &CTaskTeam::unknown50;
	ut["unknown54"] = &CTaskTeam::unknown54;
	ut["unknown58"] = &CTaskTeam::unknown58;
	ut["unknown5C"] = &CTaskTeam::unknown5C;
	ut["lastLaunchedWeapon_dword60"] = &CTaskTeam::lastLaunchedWeapon_dword60;
	ut["unknown64"] = &CTaskTeam::unknown64;
	ut["unknown68"] = &CTaskTeam::unknown68;
	ut["unknown6C"] = &CTaskTeam::unknown6C;
	ut["unknown70"] = &CTaskTeam::unknown70;
	ut["unknown74"] = &CTaskTeam::unknown74;
	ut["unknown78"] = &CTaskTeam::unknown78;
	ut["unknown7C"] = &CTaskTeam::unknown7C;
	ut["unknown80"] = &CTaskTeam::unknown80;
	ut["unknown84"] = &CTaskTeam::unknown84;
	ut["unknown88"] = &CTaskTeam::unknown88;
	ut["unknown8C"] = &CTaskTeam::unknown8C;
	ut["unknown90"] = &CTaskTeam::unknown90;
	ut["unknown94"] = &CTaskTeam::unknown94;
	ut["unknown98"] = &CTaskTeam::unknown98;
	ut["unknown9C"] = &CTaskTeam::unknown9C;
	ut["unknownA0"] = &CTaskTeam::unknownA0;
	ut["unknownA4"] = &CTaskTeam::unknownA4;
	ut["unknownA8"] = &CTaskTeam::unknownA8;
	ut["unknownAC"] = &CTaskTeam::unknownAC;
	ut["unknownB0"] = &CTaskTeam::unknownB0;
	ut["unknownB4"] = &CTaskTeam::unknownB4;
	ut["unknownB8"] = &CTaskTeam::unknownB8;
	ut["unknownBC"] = &CTaskTeam::unknownBC;
	ut["unknownC0"] = &CTaskTeam::unknownC0;
	ut["unknownC4"] = &CTaskTeam::unknownC4;
	ut["unknownC8"] = &CTaskTeam::unknownC8;
	ut["unknownCC"] = &CTaskTeam::unknownCC;
	ut["unknownD0"] = &CTaskTeam::unknownD0;
	ut["unknownD4"] = &CTaskTeam::unknownD4;
	ut["unknownD8"] = &CTaskTeam::unknownD8;
	ut["unknownDC"] = &CTaskTeam::unknownDC;
	ut["unknownE0"] = &CTaskTeam::unknownE0;
	ut["unknownE4"] = &CTaskTeam::unknownE4;
	ut["unknownE8"] = &CTaskTeam::unknownE8;
	ut["unknownEC"] = &CTaskTeam::unknownEC;
	ut["unknownF0"] = &CTaskTeam::unknownF0;
	ut["unknownF4"] = &CTaskTeam::unknownF4;
	ut["unknownF8"] = &CTaskTeam::unknownF8;
	ut["unknownFC"] = &CTaskTeam::unknownFC;
	ut["unknown100"] = &CTaskTeam::unknown100;
	ut["unknown104"] = &CTaskTeam::unknown104;
	ut["unknown108"] = &CTaskTeam::unknown108;
	ut["unknown10C"] = &CTaskTeam::unknown10C;
	ut["unknown110"] = &CTaskTeam::unknown110;
	ut["unknown114"] = &CTaskTeam::unknown114;
	ut["unknown118"] = &CTaskTeam::unknown118;
	ut["unknown11C"] = &CTaskTeam::unknown11C;
	ut["unknown120"] = &CTaskTeam::unknown120;
	ut["unknown124"] = &CTaskTeam::unknown124;
	ut["unknown128"] = &CTaskTeam::unknown128;
	ut["unknown12C"] = &CTaskTeam::unknown12C;
	ut["unknown130"] = &CTaskTeam::unknown130;
	ut["unknown134"] = &CTaskTeam::unknown134;
	ut["unknown138"] = &CTaskTeam::unknown138;
	ut["unknown13C"] = &CTaskTeam::unknown13C;
	ut["unknown140"] = &CTaskTeam::unknown140;
	ut["unknown144"] = &CTaskTeam::unknown144;
	ut["unknown148"] = &CTaskTeam::unknown148;
	ut["unknown14C"] = &CTaskTeam::unknown14C;
	ut["unknown150"] = &CTaskTeam::unknown150;
	ut["unknown154"] = &CTaskTeam::unknown154;
	ut["unknown158"] = &CTaskTeam::unknown158;
	ut["unknown15C"] = &CTaskTeam::unknown15C;
	ut["unknown160"] = &CTaskTeam::unknown160;
	ut["unknown164"] = &CTaskTeam::unknown164;
	ut["unknown168"] = &CTaskTeam::unknown168;
	ut["unknown16C"] = &CTaskTeam::unknown16C;
	ut["unknown170"] = &CTaskTeam::unknown170;
	ut["unknown174"] = &CTaskTeam::unknown174;
	ut["unknown178"] = &CTaskTeam::unknown178;
	ut["unknown17C"] = &CTaskTeam::unknown17C;
	ut["unknown180"] = &CTaskTeam::unknown180;
	ut["unknown184"] = &CTaskTeam::unknown184;
	ut["unknown188"] = &CTaskTeam::unknown188;
	ut["unknown18C"] = &CTaskTeam::unknown18C;
	ut["unknown190"] = &CTaskTeam::unknown190;
	ut["unknown194"] = &CTaskTeam::unknown194;
	ut["unknown198"] = &CTaskTeam::unknown198;
	ut["unknown19C"] = &CTaskTeam::unknown19C;
	ut["unknown1A0"] = &CTaskTeam::unknown1A0;
	ut["unknown1A4"] = &CTaskTeam::unknown1A4;
	ut["unknown1A8"] = &CTaskTeam::unknown1A8;
	ut["unknown1AC"] = &CTaskTeam::unknown1AC;
	ut["unknown1B0"] = &CTaskTeam::unknown1B0;
	ut["unknown1B4"] = &CTaskTeam::unknown1B4;
	ut["unknown1B8"] = &CTaskTeam::unknown1B8;
	ut["unknown1BC"] = &CTaskTeam::unknown1BC;
	ut["unknown1C0"] = &CTaskTeam::unknown1C0;
	ut["unknown1C4"] = &CTaskTeam::unknown1C4;
	ut["unknown1C8"] = &CTaskTeam::unknown1C8;
	ut["unknown1CC"] = &CTaskTeam::unknown1CC;
	ut["unknown1D0"] = &CTaskTeam::unknown1D0;
	ut["unknown1D4"] = &CTaskTeam::unknown1D4;
	ut["unknown1D8"] = &CTaskTeam::unknown1D8;
	ut["unknown1DC"] = &CTaskTeam::unknown1DC;
	ut["unknown1E0"] = &CTaskTeam::unknown1E0;
	ut["unknown1E4"] = &CTaskTeam::unknown1E4;
	ut["unknown1E8"] = &CTaskTeam::unknown1E8;
	ut["unknown1EC"] = &CTaskTeam::unknown1EC;
	ut["unknown1F0"] = &CTaskTeam::unknown1F0;
	ut["unknown1F4"] = &CTaskTeam::unknown1F4;
	ut["unknown1F8"] = &CTaskTeam::unknown1F8;
	ut["unknown1FC"] = &CTaskTeam::unknown1FC;
	ut["unknown200"] = &CTaskTeam::unknown200;
	ut["unknown204"] = &CTaskTeam::unknown204;
	ut["unknown208"] = &CTaskTeam::unknown208;
	ut["unknown20C"] = &CTaskTeam::unknown20C;
	ut["unknown210"] = &CTaskTeam::unknown210;
	ut["unknown214"] = &CTaskTeam::unknown214;
	ut["unknown218"] = &CTaskTeam::unknown218;
	ut["unknown21C"] = &CTaskTeam::unknown21C;
	ut["unknown220"] = &CTaskTeam::unknown220;
	ut["unknown224"] = &CTaskTeam::unknown224;
	ut["unknown228"] = &CTaskTeam::unknown228;
	ut["unknown22C"] = &CTaskTeam::unknown22C;
	ut["unknown230"] = &CTaskTeam::unknown230;
	ut["unknown234"] = &CTaskTeam::unknown234;
	ut["unknown238"] = &CTaskTeam::unknown238;
	ut["unknown23C"] = &CTaskTeam::unknown23C;
	ut["unknown240"] = &CTaskTeam::unknown240;
	ut["unknown244"] = &CTaskTeam::unknown244;
	ut["unknown248"] = &CTaskTeam::unknown248;
	ut["unknown24C"] = &CTaskTeam::unknown24C;
	ut["unknown250"] = &CTaskTeam::unknown250;
	ut["unknown254"] = &CTaskTeam::unknown254;
	ut["unknown258"] = &CTaskTeam::unknown258;
	ut["unknown25C"] = &CTaskTeam::unknown25C;
	ut["unknown260"] = &CTaskTeam::unknown260;
	ut["unknown264"] = &CTaskTeam::unknown264;
	ut["unknown268"] = &CTaskTeam::unknown268;
	ut["unknown26C"] = &CTaskTeam::unknown26C;
	ut["unknown270"] = &CTaskTeam::unknown270;
	ut["unknown274"] = &CTaskTeam::unknown274;
	ut["unknown278"] = &CTaskTeam::unknown278;
	ut["unknown27C"] = &CTaskTeam::unknown27C;
	ut["unknown280"] = &CTaskTeam::unknown280;
	ut["unknown284"] = &CTaskTeam::unknown284;
	ut["unknown288"] = &CTaskTeam::unknown288;
	ut["unknown28C"] = &CTaskTeam::unknown28C;
	ut["unknown290"] = &CTaskTeam::unknown290;
	ut["unknown294"] = &CTaskTeam::unknown294;
	ut["unknown298"] = &CTaskTeam::unknown298;
	ut["unknown29C"] = &CTaskTeam::unknown29C;
	ut["unknown2A0"] = &CTaskTeam::unknown2A0;
	ut["unknown2A4"] = &CTaskTeam::unknown2A4;
	ut["unknown2A8"] = &CTaskTeam::unknown2A8;
	ut["unknown2AC"] = &CTaskTeam::unknown2AC;
	ut["unknown2B0"] = &CTaskTeam::unknown2B0;
	ut["unknown2B4"] = &CTaskTeam::unknown2B4;
	ut["unknown2B8"] = &CTaskTeam::unknown2B8;
	ut["unknown2BC"] = &CTaskTeam::unknown2BC;
	ut["unknown2C0"] = &CTaskTeam::unknown2C0;
	ut["unknown2C4"] = &CTaskTeam::unknown2C4;
	ut["unknown2C8"] = &CTaskTeam::unknown2C8;
	ut["unknown2CC"] = &CTaskTeam::unknown2CC;
	ut["unknown2D0"] = &CTaskTeam::unknown2D0;
	ut["unknown2D4"] = &CTaskTeam::unknown2D4;
	ut["unknown2D8"] = &CTaskTeam::unknown2D8;
	ut["unknown2DC"] = &CTaskTeam::unknown2DC;
	ut["unknown2E0"] = &CTaskTeam::unknown2E0;
	ut["unknown2E4"] = &CTaskTeam::unknown2E4;
	ut["unknown2E8"] = &CTaskTeam::unknown2E8;
	ut["unknown2EC"] = &CTaskTeam::unknown2EC;
	ut["unknown2F0"] = &CTaskTeam::unknown2F0;
	ut["unknown2F4"] = &CTaskTeam::unknown2F4;
	ut["unknown2F8"] = &CTaskTeam::unknown2F8;
	ut["unknown2FC"] = &CTaskTeam::unknown2FC;
	ut["unknown300"] = &CTaskTeam::unknown300;
	ut["unknown304"] = &CTaskTeam::unknown304;
	ut["unknown308"] = &CTaskTeam::unknown308;
	ut["unknown30C"] = &CTaskTeam::unknown30C;
	ut["unknown310"] = &CTaskTeam::unknown310;
	ut["unknown314"] = &CTaskTeam::unknown314;
	ut["unknown318"] = &CTaskTeam::unknown318;
	ut["unknown31C"] = &CTaskTeam::unknown31C;
	ut["unknown320"] = &CTaskTeam::unknown320;
	ut["unknown324"] = &CTaskTeam::unknown324;
	ut["unknown328"] = &CTaskTeam::unknown328;
	ut["unknown32C"] = &CTaskTeam::unknown32C;
	ut["unknown330"] = &CTaskTeam::unknown330;
	ut["unknown334"] = &CTaskTeam::unknown334;
	ut["unknown338"] = &CTaskTeam::unknown338;
	ut["unknown33C"] = &CTaskTeam::unknown33C;
	ut["unknown340"] = &CTaskTeam::unknown340;
	ut["unknown344"] = &CTaskTeam::unknown344;
	ut["unknown348"] = &CTaskTeam::unknown348;
	ut["unknown34C"] = &CTaskTeam::unknown34C;
	ut["unknown350"] = &CTaskTeam::unknown350;
	ut["unknown354"] = &CTaskTeam::unknown354;
	ut["unknown358"] = &CTaskTeam::unknown358;
	ut["unknown35C"] = &CTaskTeam::unknown35C;
	ut["unknown360"] = &CTaskTeam::unknown360;
	ut["unknown364"] = &CTaskTeam::unknown364;
	ut["unknown368"] = &CTaskTeam::unknown368;
	ut["unknown36C"] = &CTaskTeam::unknown36C;
	ut["unknown370"] = &CTaskTeam::unknown370;
	ut["unknown374"] = &CTaskTeam::unknown374;
	ut["unknown378"] = &CTaskTeam::unknown378;
	ut["unknown37C"] = &CTaskTeam::unknown37C;
	ut["unknown380"] = &CTaskTeam::unknown380;
	ut["unknown384"] = &CTaskTeam::unknown384;
	ut["unknown388"] = &CTaskTeam::unknown388;
	ut["unknown38C"] = &CTaskTeam::unknown38C;
	ut["unknown390"] = &CTaskTeam::unknown390;
	ut["unknown394"] = &CTaskTeam::unknown394;
	ut["unknown398"] = &CTaskTeam::unknown398;
	ut["unknown39C"] = &CTaskTeam::unknown39C;
	ut["unknown3A0"] = &CTaskTeam::unknown3A0;
	ut["unknown3A4"] = &CTaskTeam::unknown3A4;
	ut["unknown3A8"] = &CTaskTeam::unknown3A8;
	ut["unknown3AC"] = &CTaskTeam::unknown3AC;
	ut["unknown3B0"] = &CTaskTeam::unknown3B0;
	ut["unknown3B4"] = &CTaskTeam::unknown3B4;
	ut["unknown3B8"] = &CTaskTeam::unknown3B8;
	ut["unknown3BC"] = &CTaskTeam::unknown3BC;
	ut["unknown3C0"] = &CTaskTeam::unknown3C0;
	ut["unknown3C4"] = &CTaskTeam::unknown3C4;
	ut["unknown3C8"] = &CTaskTeam::unknown3C8;
	ut["unknown3CC"] = &CTaskTeam::unknown3CC;
	ut["unknown3D0"] = &CTaskTeam::unknown3D0;
	ut["unknown3D4"] = &CTaskTeam::unknown3D4;
	ut["unknown3D8"] = &CTaskTeam::unknown3D8;
	ut["unknown3DC"] = &CTaskTeam::unknown3DC;
	ut["unknown3E0"] = &CTaskTeam::unknown3E0;
	ut["unknown3E4"] = &CTaskTeam::unknown3E4;
	ut["unknown3E8"] = &CTaskTeam::unknown3E8;
	ut["unknown3EC"] = &CTaskTeam::unknown3EC;
	ut["unknown3F0"] = &CTaskTeam::unknown3F0;
	ut["unknown3F4"] = &CTaskTeam::unknown3F4;
	ut["unknown3F8"] = &CTaskTeam::unknown3F8;
	ut["unknown3FC"] = &CTaskTeam::unknown3FC;
	ut["unknown400"] = &CTaskTeam::unknown400;
	ut["unknown404"] = &CTaskTeam::unknown404;
	ut["unknown408"] = &CTaskTeam::unknown408;
	ut["unknown40C"] = &CTaskTeam::unknown40C;
	ut["unknown410"] = &CTaskTeam::unknown410;
	ut["unknown414"] = &CTaskTeam::unknown414;
	ut["unknown418"] = &CTaskTeam::unknown418;
	ut["unknown41C"] = &CTaskTeam::unknown41C;
	ut["unknown420"] = &CTaskTeam::unknown420;
	ut["unknown424"] = &CTaskTeam::unknown424;
	ut["unknown428"] = &CTaskTeam::unknown428;
	ut["unknown42C"] = &CTaskTeam::unknown42C;
	ut["unknown430"] = &CTaskTeam::unknown430;
	ut["unknown434"] = &CTaskTeam::unknown434;
	ut["unknown438"] = &CTaskTeam::unknown438;
	ut["unknown43C"] = &CTaskTeam::unknown43C;
	ut["unknown440"] = &CTaskTeam::unknown440;
	ut["unknown444"] = &CTaskTeam::unknown444;
	ut["unknown448"] = &CTaskTeam::unknown448;
	ut["unknown44C"] = &CTaskTeam::unknown44C;
	ut["unknown450"] = &CTaskTeam::unknown450;
	ut["unknown454"] = &CTaskTeam::unknown454;
	ut["unknown458"] = &CTaskTeam::unknown458;
	ut["unknown45C"] = &CTaskTeam::unknown45C;


	return 0;
}
